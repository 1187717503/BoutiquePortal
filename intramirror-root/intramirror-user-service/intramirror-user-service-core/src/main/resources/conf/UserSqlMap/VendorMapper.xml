<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.intramirror.user.core.mapper.VendorMapper">
    <resultMap id="BaseResultMap" type="com.intramirror.user.api.model.Vendor">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="vendor_id" jdbcType="BIGINT" property="vendorId"/>
        <result column="grade" jdbcType="TINYINT" property="grade"/>
        <result column="vendor_name" jdbcType="VARCHAR" property="vendorName"/>
        <result column="user_id" jdbcType="BIGINT" property="userId"/>
        <result column="vendor_applicant_id" jdbcType="BIGINT" property="vendorApplicantId"/>
        <result column="identity_card" jdbcType="VARCHAR" property="identityCard"/>
        <result column="brand_type" jdbcType="TINYINT" property="brandType"/>
        <result column="credit_card" jdbcType="VARCHAR" property="creditCard"/>
        <result column="status" jdbcType="TINYINT" property="status"/>
        <result column="company_name" jdbcType="VARCHAR" property="companyName"/>
        <result column="registered_person" jdbcType="VARCHAR" property="registeredPerson"/>
        <result column="electronic_identification_card" jdbcType="VARCHAR" property="electronicIdentificationCard"/>
        <result column="business_license_number" jdbcType="VARCHAR" property="businessLicenseNumber"/>
        <result column="business_license_duration" jdbcType="TIMESTAMP" property="businessLicenseDuration"/>
        <result column="valid_end_at" jdbcType="TIMESTAMP" property="validEndAt"/>
        <result column="electronic_business_license" jdbcType="VARCHAR" property="electronicBusinessLicense"/>
        <result column="legal_management_scope" jdbcType="VARCHAR" property="legalManagementScope"/>
        <result column="business_license_location" jdbcType="VARCHAR" property="businessLicenseLocation"/>
        <result column="updated_at" jdbcType="TIMESTAMP" property="updatedAt"/>
        <result column="created_at" jdbcType="TIMESTAMP" property="createdAt"/>
        <result column="enabled" jdbcType="BIT" property="enabled"/>
        <result column="last_login" jdbcType="TIMESTAMP" property="lastLogin"/>
        <result column="national_mark" jdbcType="VARCHAR" property="nationalMark"/>
        <result column="product_image_score" jdbcType="TINYINT" property="productImageScore"/>
        <result column="vendor_score" jdbcType="TINYINT" property="vendorScore"/>
        <result column="score" jdbcType="DECIMAL" property="score"/>
        <result column="address_country_id" jdbcType="BIGINT" property="addressCountryId"/>
        <result column="remark" jdbcType="VARCHAR" property="remark"/>
    </resultMap>
    <sql id="selectColumn">
    vendor_id, grade, vendor_name, user_id, vendor_applicant_id, identity_card, brand_type,
    credit_card, status, company_name, registered_person, electronic_identification_card, 
    business_license_number, business_license_duration, valid_end_at, electronic_business_license, 
    legal_management_scope, business_license_location, updated_at, created_at, enabled, 
    last_login, national_mark, product_image_score, vendor_score, score, address_country_id,remark
  </sql>
    <sql id="selectTable">
    vendor v
  </sql>
    <select id="getVendorListByUserIdAndEnabled" resultMap="BaseResultMap">
        SELECT
        <include refid="selectColumn"/>
        FROM
        <include refid="selectTable"/>
        WHERE
        v.user_id =#{userId}
        AND
        v.enabled=#{enabled}
    </select>
</mapper>