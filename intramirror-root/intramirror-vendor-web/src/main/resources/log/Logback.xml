<?xml version="1.0"?>
<configuration>

	<!-- 本地路径配置-->
	<property name="LOCAL_HOME" value="/Users/dingyifan/Downloads/logs"/>

	<!-- 线上路径配置 -->
	<property name="LINUX_HOME" value="/opt/intramirror_vendor_web/logs/"/>

	<property name="APP_NAME" value="intramirror-vendor-web" /> <!-- 引用名称 -->
	<property name="LOG_MAX_HISTORY" value="30" /> <!-- 日志文件保留天数 -->
	<property name="APP_LOG_HOME" value="${LINUX_HOME}/${APP_NAME}/" /> <!-- 引用日志文件保留路径 -->

	<!-- 配置控制台日志输出 -->
	<appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
		<layout class="ch.qos.logback.classic.PatternLayout">
			<pattern>%d{HH:mm:ss.SSS} [%-5level] [%thread] %logger{36} - %msg%n</pattern>
		</layout>
	</appender>
	
	<!-- 配置应用文件日志输出 -->
	<appender name="app" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<!-- 日志文件输出的文件名 -->
			<FileNamePattern>${APP_LOG_HOME}/${APP_NAME}.app.%d{yyyy-MM-dd}.log</FileNamePattern>
			<!-- 日志文件保留天数 -->
			<MaxHistory>${LOG_MAX_HISTORY}</MaxHistory>
		</rollingPolicy>
		<encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<!-- 格式化输出 -->
			<pattern>%d{HH:mm:ss.SSS} [%-5level] [%thread] %logger{36} - %msg%n</pattern>
		</encoder>
	</appender>

	<!-- INFO,DEBUG,ERROR -->
	<root level="INFO,ERROR">
		<appender-ref ref="app" />
	</root>
</configuration> 