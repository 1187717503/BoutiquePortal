<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="msapplication-tap-highlight" content="no">
    <title>Intra Mirror - Product Management</title>

    <!-- Favicons-->
    <link rel="icon" href="images/favicon/favicon-32x32.png" sizes="32x32">
    <!-- Favicons-->
    <link rel="apple-touch-icon-precomposed" href="images/favicon/apple-touch-icon-152x152.png">
    <!-- For iPhone -->
    <meta name="msapplication-TileColor" content="#00bcd4">
    <meta name="msapplication-TileImage" content="images/favicon/mstile-144x144.png">
    <!-- For Windows Phone -->


    <!-- CORE CSS-->
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection">
    <!-- Customer CSS-->
    <link href="css/custom/custom.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="css/index.css" type="text/css" rel="stylesheet" media="screen,projection">
</head>

<body>
<div id="loader-wrapper">
    <div id="loader"></div>
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
</div>

<div class="load-data-holder">
    <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-red">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div><div class="gap-patch">
                <div class="circle"></div>
            </div><div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>

        <div class="spinner-layer spinner-yellow">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div><div class="gap-patch">
                <div class="circle"></div>
            </div><div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>

        <div class="spinner-layer spinner-green">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div><div class="gap-patch">
                <div class="circle"></div>
            </div><div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
    </div>
</div>

<header id="header" class="page-topbar">
    <div class="navbar-fixed">
        <nav class="navbar-color">
            <div class="nav-wrapper">
                <ul class="left">
                    <li><h1 class="logo-wrapper"><a href="index.html" class="brand-logo darken-1">Intra Mirror</a> <span class="logo-text">Intra Mirror</span>
                    </h1></li>
                </ul>

            </div>
        </nav>
    </div>
</header>


<!-- START MAIN -->
<div id="main" class="z-depth-2">
    <!-- START WRAPPER -->
    <div class="wrapper">
        <!-- START CONTENT -->
        <section id="content">
            <!--start container-->
            <div class="container">
                <div class="filter">
                    <div class="row">
                        <div class="col s9">
                            <div class="row">
                                <div class="input-field col s3">
                                    <select id="select-boutique"></select>
                                </div>
                                <div class="input-field col s3">
                                    <input id="text-designer" type="text" class="validate">
                                    <label for="text-designer">Designer ID/Color Code</label>
                                </div>
                                <div class="input-field col s3">
                                    <input id="text-boutique" type="text" class="validate">
                                    <label for="text-boutique">Boutique ID</label>
                                </div>
                                <div class="input-field col s3">
                                    <select id="select-brand"></select>
                                </div>
                            </div>

                            <div class="row">
                                <div class="input-field col s4">
                                    <select id="select-category"></select>
                                </div>
                                <div class="input-field col s1">
                                    <select id="select-season"></select>
                                </div>
                                <div class="input-field col s1">
                                    <select id="select-image">
                                        <option value="0" selected>Image All</option>
                                        <option value="1">YES</option>
                                        <option value="2">NO</option>
                                    </select>
                                </div>
                                <div class="input-field col s2">
                                    <select id="select-model-image">
                                        <option value="0" selected>Model Image All</option>
                                        <option value="1">YES</option>
                                        <option value="2">NO</option>
                                    </select>
                                </div>
                                <div class="input-field col s2">
                                    <select id="select-street-image">
                                        <option value="0" selected>Street Image All</option>
                                        <option value="1">YES</option>
                                        <option value="2">NO</option>
                                    </select>
                                </div>
                                <div class="input-field col s2">
                                    <select id="select-stock">
                                        <option value="0" selected>Stock All</option>
                                        <option value="1">YES</option>
                                        <option value="2">NO</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col s3 search-btns">
                            <a id="search-btn" class="waves-effect waves-light btn ">Search</a>
                            <a id="cancel-btn" class="waves-effect waves-light btn btn-gray">Reset</a>
                        </div>

                    </div>

                </div>
                <!--end filter-->

                <!-- tabs -->
                <div class="row status-tabs">
                    <div class="col s12">
                        <ul class="tabs">
                            <li class="tab col"><a data-status="new" class="active" href="#"><div>NEW<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="processing" href="#"><div>PROCESSING<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="readytosell" href="#"><div>OK<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="shopprocessing" href="#"><div>SHOP_PROCESSING<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="shopreadytosell" href="#"><div>SHOP_READ<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="shopremoved" href="#"><div>SHOP_MOVED<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="shoponsale" href="#"><div>SHOP_ONSALE<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="shopsoldout" href="#"><div>SHOP_SOLDOUT<span>(0)</span></div></a></li>
                            <li class="tab col"><a data-status="trash" href="#"><div>TRASH<span>(0)</span></div></a></li>
                        </ul>
                    </div>
                </div>
                <div class="control-pannel">
                    <div>
                        <a id="processing-btn" class="waves-effect waves-light btn">PROCESS</a>
                        <a id="approve-btn" class="waves-effect waves-light btn">APPROVE</a>
                    </div>
                    <div class="remove">
                        <a id="remove-btn" class="waves-effect waves-light btn btn-gray">REMOVE</a>
                    </div>
                </div>


                <div id="test1" class="col s12">
                    <div class="order-head style-scope page-order">
                        <div class="row style-scope page-order">
                            <div class="item style-scope page-order">
                                <input type="checkbox" class="filled-in" id="order-head-cbx"/>
                                <label for="order-head-cbx"></label>
                            </div>
                            <div class="item style-scope page-order"><span class="mdi-hardware-keyboard-arrow-right head-hide-icon"></span></div>
                            <div class="item style-scope page-order">Designer ID-Color Code</div>
                            <div class="item style-scope page-order">Brand</div>
                            <div class="item style-scope page-order">Boutique</div>
                            <div class="item style-scope page-order">Boutique ID</div>
                            <div class="item style-scope page-order">Season</div>
                            <div class="item style-scope page-order">Category</div>
                            <div class="item style-scope page-order">Stock</div>
                            <div class="item style-scope page-order">Retail Price</div>
                            <div class="item style-scope page-order">Boutique Price</div>
                            <div class="item style-scope page-order">IM Price</div>
                            <div class="item style-scope page-order">Action</div>
                        </div>
                    </div>
                    <div class="order-list style-scope page-order">
                        <div id="order-list" class="style-scope page-order">

                        </div>
                    </div>
                </div>
                <ul class="pagination">
                    
                </ul>
                <!-- end tabs -->
            </div>
            <!--end container-->
        </section>
        <!-- END CONTENT -->

    </div>
    <!-- END WRAPPER -->

</div>
<!-- END MAIN -->

<!-- ================================================
Scripts
================================================ -->
<script type="text/javascript" src="js/base.js"></script>

<script type="text/javascript" src="js/index.js"></script>

<!-- jQuery Library -->
<script type="text/javascript" src="js/plugins/jquery-1.11.2.min.js"></script>

<script type="text/javascript" src="js/plugins/jquery-tmpl/jquery.tmpl.js"></script>
<!--materialize js-->
 <script type="text/javascript" src="js/materialize.js"></script> 

<!--scrollbar-->
<script type="text/javascript" src="js/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>

<!--plugins.js - Some Specific JS codes for Plugin Settings-->
<script type="text/javascript" src="js/plugins.js"></script>

<!--custom-script.js - Add your own theme custom JS-->
<script type="text/javascript" src="js/custom-script.js"></script>

<script id="tmpl-brand-select" type="text/x-jquery-tmpl">
    <option value="-1" selected>Brand</option>
    {%each(i, brand) list%}
    <option value="${brand.brand_id}">${brand.english_name}</option>
    {%/each%}
</script>

<script id="tmpl-boutique-select" type="text/x-jquery-tmpl">
    <option value="-1" selected>Boutique</option>
    {%each(i, boutique) list%}
    <option value="${boutique.vendor_id}">${boutique.vendor_name}</option>
    {%/each%}
</script>

<script id="tmpl-category-select" type="text/x-jquery-tmpl">
    <option value="-1" selected>Category</option>
    {%each(i, category) list%}
    <option value="${category.categoryId}">${category.name}</option>
    {%/each%}
</script>

<script id="tmpl-season-select" type="text/x-jquery-tmpl">
    <option value="-1" selected>Season</option>
    {%each(i, season) list%}
    <option value="${season}">${season}</option>
    {%/each%}
</script>

<script id="tmpl-control-pannel" type="text/x-jquery-tmpl">
    <div>
        {%if list.process == 1 %}
        <a id="processing-btn" class="waves-effect waves-light btn">PROCESS</a>
        {%/if%}
        {%if list.approve == 1 %}
        <a id="approve-btn" class="waves-effect waves-light btn">APPROVE</a>
        {%/if%}
        {%if list.add_to_shop == 1 %}
        <a id="add_to_shop-btn" class="waves-effect waves-light btn">Add to Shop</a>
        {%/if%}
        {%if list.remove_from_shop == 1 %}
        <a id="remove_from_shop-btn" class="waves-effect waves-light btn">Remove from Shop</a>
        {%/if%}
        {%if list.off_sale == 1 %}
        <a id="off_sale-btn" class="waves-effect waves-light btn">Off Sale</a>
        {%/if%}
        {%if list.on_sale == 1 %}
        <a id="on_sale-btn" class="waves-effect waves-light btn">On Sale</a>
        {%/if%}
    </div>
    <div class="remove">
        {%if list.remove == 1 %}
        <a id="remove-btn" class="waves-effect waves-light btn btn-gray">REMOVE</a>
        {%/if%}
    </div>
</script>


<script id="tmpl-order-list" type="text/x-jquery-tmpl">
    {%each(i, order) list%}
    <div class="product-list">
    <div class="row style-scope page-order">
        <div class="item style-scope page-order">
            <input type="checkbox" class="filled-in" id="order-id-${order.product_id}" data-product-id="${order.product_id}" />
            <label for="order-id-${order.product_id}"></label>
        </div>
        <div class="item style-scope page-order"><span class="mdi-hardware-keyboard-arrow-right hide-icon"></span><img src="images/02000a.jpg" width="49" height="63"></div>
        <div class="item style-scope page-order"><strong>${order.designer_id}-${order.color_code}</strong></div>
        <div class="item style-scope page-order"><strong>${order.brand_name}</strong></div>
        <div class="item style-scope page-order"><strong>${order.boutique}</strong></div>
        <div class="item style-scope page-order"><strong>${order.boutique_id}</strong></div>
        <div class="item style-scope page-order"><strong>${order.season_code}</strong></div>
        <div class="item style-scope page-order"><strong>${order.category}</strong></div>
        <div class="item style-scope page-order"><strong>${order.total_stock}</strong></div>
        <div class="item style-scope page-order"><strong>€${order.retail_price}</strong></div>
        <div class="item style-scope page-order"><strong>€${order.boutique_price}</strong></div>
        {%if tab_status =='new' || tab_status =='processing' || tab_status=='readytosell' || tab_status=='trash' %}
        <div class="item style-scope page-order"><strong>€${order.im_price}</strong></div>
        {%else%}
        <div class="item style-scope page-order"><strong>€${order.sale_price}</strong></div>
        {%/if%}
        <div class="item style-scope page-order action" data-product-id="${order.product_id}" data-shop-product-id="${order.shop_product_id}">
            {%if action.process == 1 %}
            <span title="processing" data-action="process" class="waves-effect mdi-action-settings icon-btn-processing action-icon"></span>
            {%/if%}
            {%if action.approve == 1 %}
            <span title="approve" data-action="approve" class="waves-effect mdi-action-done icon-btn-approve action-icon"></span>
            {%/if%}
            {%if action.add_to_shop == 1 %}
            <span title="add to shop" data-action="add_to_shop" class="waves-effect mdi-content-add action-icon"></span>
            {%/if%}
            {%if action.remove_from_shop == 1 %}
            <span title="remove from shop" data-action="remove_from_shop" class="waves-effect mdi-content-remove action-icon"></span>
            {%/if%}
            {%if action.off_sale == 1 %}
            <span title="off sale" data-action="off_sale" class="waves-effect mdi-hardware-keyboard-arrow-down action-icon"></span>
            {%/if%}
            {%if action.on_sale == 1 %}
            <span title="on sale" data-action="on_sale" class="waves-effect mdi-hardware-keyboard-arrow-up action-icon"></span>
            {%/if%}
            {%if action.remove == 1 %}
            <span title="trash" data-action="trash" class="waves-effect mdi-action-delete icon-btn-delete action-icon"></span>
            {%/if%}

        </div>
    </div>
    <div class="goods show-detail">
        <div class="row head-detail-row">
            <div class="list-detail-item">SKU ID</div>
            <div class="list-detail-item">Size</div>
            <div class="list-detail-item">Barcode</div>
            <div class="list-detail-item">Available Stock</div>
            <div class="list-detail-item">Reserverd Stock</div>
            <div class="list-detail-item">Confirmed Stock</div>
        </div>
        {%each(j, detail) order.skuDetail%}
            <div class="row list-detail-row">
                <div class="list-detail-item">${detail.sku_id}</div>
                <div class="list-detail-item">${detail.size}</div>
                <div class="list-detail-item">not found---${detail.barcode}</div>
                <div class="list-detail-item">${detail.store}</div>
                <div class="list-detail-item">${detail.reserved}</div>
                <div class="list-detail-item">${detail.confirmed}</div>
            </div>
        {%/each%}
    </div>
    </div>
    {%/each%}
</script>

<script id="tmpl-pagination" type="text/x-jquery-tmpl">
    <li class="pagination-info">Current: ${page.currPage} Total: ${page.totalPage}</li>
    <li class="waves-effect pagination-index" data-pageno="0"><a href="#!"><i class="mdi-av-skip-previous"></i></a></li>
    <li class="waves-effect pagination-index" data-pageno="${page.currPage-2}"><a href="#!"><i class="mdi-navigation-chevron-left"></i></a></li>
    {%each(i, pageInfo) page.list%}
        {%if pageInfo.active %}
            <li class="waves-effect active pagination-index" data-pageno="${pageInfo.no - 1}"><a href="#!">${pageInfo.no}</a></li>
        {%else%}
            <li class="waves-effect pagination-index" data-pageno="${pageInfo.no - 1}"><a href="#!">${pageInfo.no}</a></li>
        {%/if%}
    {%/each%}
    <li class="waves-effect pagination-index" data-pageno="${page.currPage}"><a href="#!"><i class="mdi-navigation-chevron-right"></i></a></li>
    <li class="waves-effect pagination-index" data-pageno="${page.totalPage - 1}"><a href="#!"><i class="mdi-av-skip-next"></i></a></li>
</script>


<script type="text/javascript">

    $(function () {
        $('ul.tabs').tabs();
        // initialize brand select
        initBrand();
        initVendor();
        initSeason();
        initCategory();
        
       
        $(".tabs .tab a").click(function() {
            var status = $(this).data('status');
            getProdcutList(status, 10, 1, 35);
        });

        $("#order-head-cbx").change(function() {
            if ($(this).prop('checked') === true) {
                $(".product-list .page-order [type='checkbox']").prop('checked', true);
            } else {
                $(".product-list .page-order [type='checkbox']").prop('checked', false);
            }

            console.log(localStorage.getItem('token'));
        })

        $('#search-btn').click(function() {
            var status = $('.tabs .tab a.active').data('status');
            getProdcutList(status, 10, 1, 35);
        })

        $('#cancel-btn').click(function() {
            console.log($('#select-season').val());
        })

        $(".head-hide-icon").click(showDetail);

    });

</script>
</body>

</html>
