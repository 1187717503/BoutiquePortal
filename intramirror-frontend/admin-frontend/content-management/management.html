<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="msapplication-tap-highlight" content="no">
    <title>Contect Management</title>

    <!-- Favicons-->
    <link rel="icon" href="../favicon.ico">

    <!-- For iPhone -->
    <meta name="msapplication-TileColor" content="#00bcd4">
    <meta name="msapplication-TileImage" content="favicon.ico">
    <!-- For Windows Phone -->

    <!-- CORE CSS-->
    <link href="../css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="../css/style.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="../js/plugins/magnific-popup/magnific-popup.css" type="text/css" rel="stylesheet" media="screen,projection">

    <link href="../css/css-multi-level-menu/multi-menu.css" rel="stylesheet">
    <!-- Customer CSS-->
    <link href="../css/custom/custom.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="../css/index.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="../css/management.css" type="text/css" rel="stylesheet" media="screen,projection">
</head>

<body>
<div id="loader-wrapper">
    <div id="loader"></div>
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
</div>

<div class="load-data-holder">
    <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-red">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div><div class="gap-patch">
                <div class="circle"></div>
            </div><div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>

        <div class="spinner-layer spinner-yellow">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div><div class="gap-patch">
                <div class="circle"></div>
            </div><div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>

        <div class="spinner-layer spinner-green">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div><div class="gap-patch">
                <div class="circle"></div>
            </div><div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
    </div>
</div>

<header id="header" class="page-topbar">
    <div class="navbar-fixed">
        <nav class="navbar-color">
            <div class="nav-wrapper">
                <ul class="left">
                    <li>
                        <h1 class="logo-wrapper">
                            <a href="../../admin/default" class="brand-logo darken-1 mdi-navigation-menu"><span class="brand-text">Contect Management</span></a>
                        </h1>
                    </li>
                </ul>

            </div>
        </nav>
    </div>
</header>


<!-- START MAIN -->
<div id="main">
    <!-- START WRAPPER -->
    <div class="wrapper">
        <!-- START CONTENT -->
        <section id="content">
            <!--start container-->
            <div class="container">
                <div class="filter">
                    <div class="row">
                    	<div style="display: flex;">
                    		<div class="col s3" style="width: 380px;margin-left: 0px;">
		                    	<div class="has-labe-input" style="position: relative;width:21%;">
		                            <i class="mdi-editor-insert-invitation"></i>
		                            <label style="position: absolute;top: -14px;">Last Modified</label>
		                            <input id="modified-start" class="date-input sale-datepicker" type="text" readonly="true">
		                            <label class="center-label-text">~</label>
		                            <input id="modified-end" class="date-input sale-datepicker" type="text" readonly="true">
		                        </div>
							</div>
							<div class="col s6" style="margin-left: 0px;padding-left: 11px;">
		                        <div class="input-field col s4">
		                            <input id="text-blockName" type="text" class="validate">
		                            <label for="text-blockName">Block Name</label>
		                        </div>

		                        <div class="input-field col s4">
		                            <select id="select-status">
		                            	<option value="-1" selected>All</option>
		                                <option value="1">Active</option>
		                                <option value="0">Inactive</option>
		                            </select>
		                            <label for="select-status">Status</label>
		                        </div>

		                        <div class="input-field col s4">
		                            <select id="select-tag">
		                            </select>
		                            <label for="select-tag">Product Tags</label>
		                        </div>
		                    </div>
							<div class="col s3" style="margin-left: 0px;padding-left: 11px;min-width: 266px;">
		                        <div class="content-seach-btn">
		                            <a id="search-btn" class="waves-effect waves-light btn">Search</a>
		                            <a id="cancel-btn" class="waves-effect waves-light btn btn-gray">Reset</a>
		                        </div>
	                        </div>
						</div>
                    </div>
                </div>
                <!--end filter-->

                <div class="z-depth-2" style="min-width: 1180px">
                    <div style="margin-top: 40px">
                        <div style="display: inline-block;margin-left: 12px;margin-top: 12px">
                            <a id="new-block-btn" class="waves-effect waves-light btn">NEW</a>
                        </div>
                        <div style="display: inline-block;margin-left: 12px;margin-top: 12px">
                            <a id="activate-btn" class="waves-effect waves-light btn">ACTIVATE</a>
                        </div>
                        <div style="display: inline-block;margin-left: 12px;margin-top: 12px">
                            <a id="de-activate-btn" class="waves-effect waves-light btn">DE-ACTIVATE</a>
                        </div>
                    </div>

                    <div id="test1" class="col s12">
                        <div id="block-head-list" class="block-head style-scope page-block">

                        </div>
                        <div class="block-list style-scope page-block">
                            <div id="block-list" class="style-scope page-block">

                            </div>
                        </div>
                    </div>
                    <ul class="pagination">

                    </ul>
                </div>
                <!-- end tabs -->
            </div>
            <!--end container-->
        </section>
        <!-- END CONTENT -->

    </div>
    <!-- END WRAPPER -->

</div>
<!-- END MAIN -->

<!-- Public js, should be include first -->
<script type="text/javascript" src="../js/base.js?v=1.0"></script>
<script type="text/javascript" src="../js/restful.js?v=2.0"></script>
<script type="text/javascript" src="../js/common.js?v=1.0"></script>


<script type="text/javascript" src="../js/content-management/management.js?v=3.0"></script>

<!-- jQuery Library -->
<script type="text/javascript" src="../js/plugins/jquery-1.11.2.min.js"></script>

<script type="text/javascript" src="../js/plugins/jquery-tmpl/jquery.tmpl.js"></script>
<!--materialize js-->
 <script type="text/javascript" src="../js/materialize.js"></script>

<!--scrollbar-->
<script type="text/javascript" src="../js/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>

<!-- magnific-popup -->
<script type="text/javascript" src="../js/plugins/magnific-popup/jquery.magnific-popup.min.js"></script>

<!--plugins.js - Some Specific JS codes for Plugin Settings-->
<script type="text/javascript" src="../js/plugins.js"></script>

<!--custom-script.js - Add your own theme custom JS-->
<script type="text/javascript" src="../js/custom-script.js"></script>

<script type="text/javascript" src="../js/plugins/iconfont/iconfont.js"></script>

<script id="tmpl-tag-select" type="text/x-jquery-tmpl">
    <option value="-1" selected>All</option>
    <option value="0" >No Tags</option>
    {%each(i, tag) list%}
    <option value="${tag.tagId}">${tag.tagName}</option>
    {%/each%}
</script>

<script id="tmpl-block-head-list" type="text/x-jquery-tmpl">
    <div class="row style-scope page-block">
        <div class="item style-scope page-block">
            <input type="checkbox" class="filled-in" id="block-head-cbx"/>
            <label for="block-head-cbx"></label>
        </div>
        <div class="item style-scope page-block">Block ID</div>
        <div class="item style-scope page-block">Block Name</div>
        <div class="item style-scope page-block">Status</div>
        <div class="item style-scope page-block" style="text-align: center;">Last Modified</div>
        <div class="item style-scope page-block">Title</div>
        <div class="item style-scope page-block">Product Tag</div>
        <div class="item style-scope page-block orderby">Sort Order
        	<svg class="icon" aria-hidden="true">
                <use class="use-icon" xlink:href="#icon-default-order" data-order-col="SortOrder"></use>
            </svg>
        </div>
        <div class="item style-scope page-block">Action</div>
    </div>

</script>

<script id="tmpl-block-list" type="text/x-jquery-tmpl">
    {%each(i, block) list%}
    <div class="row style-scope page-block">
        <div class="item style-scope page-block">
            <input type="checkbox" class="filled-in" id="block-id-${block.block_id}" data-block-id="${block.block_id}"/>
            <label for="block-id-${block.block_id}"></label>
        </div>
        <div class="item style-scope page-block">${block.block_id}</div>
        <div class="item style-scope page-block">${block.block_name}</div>
        <div class="item style-scope page-block">${block.status}</div>
        <div class="item style-scope page-block">${block.modified_at}</div>
        <div class="item style-scope page-block">${block.title}</div>
        <div class="item style-scope page-block">${block.tag_name}</div>
        <div class="item style-scope page-block">${block.sort_order}</div>
        <div class="item style-scope page-block action" data-block-id="${block.block_id}">

        </div>
    </div>
    {%/each%}
</script>

<script id="tmpl-pagination" type="text/x-jquery-tmpl">

    <li class="pagination-info">Current: ${page.currPage} Total: ${page.totalPage}</li>
    <li style="width: 100px">
        <div class="input-field col s1">
            <select id="page-size">
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
    </li>

    {%if page.currPage <= 1 %}
    <li class="disabled">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-first-page"></use></svg></a>
    </li>
    <li class="disabled">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-left"></use> </svg></a>
    </li>
    {%else%}
    <li class="waves-effect pagination-index" data-pageno="0">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-first-page"></use></svg></a>
    </li>
    <li class="waves-effect pagination-index" data-pageno="${page.currPage-2}">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-left"></use></svg></a>
    </li>
    {%/if%}
    {%each(i, pageInfo) page.list%}
        {%if pageInfo.active %}
            <li class="waves-effect active pagination-index" data-pageno="${pageInfo.no - 1}"><a href="#!">${pageInfo.no}</a>
            </li>
        {%else%}
            <li class="waves-effect pagination-index" data-pageno="${pageInfo.no - 1}"><a href="#!">${pageInfo.no}</a>
            </li>
        {%/if%}
    {%/each%}

    {%if page.currPage <= page.totalPage - 1 %}
    <li class="waves-effect pagination-index" data-pageno="${page.currPage}">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-right"></use></svg></a>
    </li>
    <li class="waves-effect pagination-index" data-pageno="${page.totalPage - 1}">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-last-page"></use></svg></a>
    </li>
    {%else%}
    <li class="disabled">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-right"></use></svg></a>
    </li>
    <li class="disabled">
        <a href="#!"> <svg class="icon" aria-hidden="true"> <use class="use-icon" xlink:href="#icon-last-page"></use></svg></a>
    </li>
    {%/if%}

</script>

<script type="text/javascript">

    $(function () {

        initTag();
        initDate();

        $('.sale-datepicker').pickadate({
            selectMonths: true,
            selectYears: 15,
            today: 'Today',
            clear: 'Clear',
            close: 'Close',
            format: 'yyyy-mm-dd',
            closeOnSelect: false // Close upon selecting a date,
        });

        $('#search-btn').click(function() {
            getBlockList(1);
        })

        $('#cancel-btn').click(function() {
            $('#select-tag').val('-1');
            $('#select-status').val('-1');
            $('#text-blockName').val('');
            $('#text-blockName').trigger('blur');

            initDate();
            $('select').material_select();

            $('.orderby .icon use').attr('xlink:href', '#icon-paixu-copy');
            $('.orderby').removeClass('active');
            getBlockList(1);
        })


        $('#category-menu-input input, #category-menu-input span.triangle').click(function(e) {
            $('#category-menu .multi-menu').css('min-width', $('#category-input').width() + 'px');
            $('#category-menu').show();
            e.stopPropagation();
        });

        $('html').click(function() {
            $('#category-menu').hide();
        })

        $('#activate-btn').click(function() {
            updateBlock('activate');
        });

        $('#de-activate-btn').click(function() {
            updateBlock('de-activate');
        });

    });

</script>
</body>

</html>
